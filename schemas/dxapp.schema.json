{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "DNAnexus App Metadata",
  "type": "object",
  "required": [
    "name",
    "title",
    "summary",
    "dxapi",
    "version",
    "inputSpec",
    "outputSpec",
    "runSpec",
    "developers",
    "authorizedUsers",
    "regionalOptions"
  ],
  "properties": {
    "name": { "type": "string" },
    "title": { "type": "string" },
    "summary": { "type": "string" },
    "description": { "type": "string" },
    "dxapi": { "type": "string" },
    "version": { "type": "string", "pattern": "^\\d+\\.\\d+\\.\\d+$" },
    "openSource": { "type": "boolean" },
    "httpsApp": { "type": "boolean" },
    "inputSpec": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "class"],
        "properties": {
          "name": { "type": "string" },
          "class": {
            "type": "string",
            "enum": [
              "int", "float", "string", "boolean", "hash", "record", "file", "applet",
              "array:int", "array:float", "array:string", "array:boolean",
              "array:record", "array:file", "array:applet"
            ]
          },
          "optional": { "type": "boolean" },
          "label": { "type": "string" },
          "default": {},
          "patterns": { "type": "array", "items": { "type": "string" } },
          "help": { "type": "string" }
        }
      }
    },
    "outputSpec": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "class"],
        "properties": {
          "name": { "type": "string" },
          "class": {
            "type": "string",
            "enum": [
              "int", "float", "string", "boolean", "hash", "record", "file", "applet",
              "array:int", "array:float", "array:string", "array:boolean",
              "array:record", "array:file", "array:applet"
            ]
          },
          "label": { "type": "string" },
          "patterns": { "type": "array", "items": { "type": "string" } },
          "help": { "type": "string" }
        }
      }
    },
    "runSpec": {
      "type": "object",
      "required": ["interpreter", "file", "distribution", "release"],
      "properties": {
        "interpreter": { "type": "string" },
        "file": { "type": "string" },
        "distribution": { "type": "string", "enum": ["Ubuntu"] },
        "release": {
          "type": "string",
          "enum": ["24.04", "20.04", "16.04", "14.04", "12.04"]
        },
        "execDepends": { "$ref": "./execDepends.schema.json" },
        "timeoutPolicy": { "type": "object" },
        "version": { "type": "string" }
      }
    },
    "developers": {
      "type": "array",
      "items": { "type": "string" }
    },
    "authorizedUsers": {
      "type": "array",
      "items": { "type": "string" }
    },
    "regionalOptions": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "systemRequirements": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "properties": {
                "instanceType": { "type": "string" }
              }
            }
          }
        }
      }
    },
    "details": {},
    "categories": {
      "type": "array",
      "items": { "type": "string" }
    },
    "access": { "type": "object" },
    "ignoreReuse": { "type": "boolean" },
    "treeTurnaroundTimeThreshold": { "type": "number" },
    "billing": { "type": "string" },
    "resources": {
      "oneOf": [
        { "type": "string" },
        { "type": "array", "items": { "type": "string" } }
      ]
    }
  }
}