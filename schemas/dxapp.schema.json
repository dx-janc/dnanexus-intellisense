{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "DNAnexus App/Applet Metadata",
  "description": "Metadata specification for DNAnexus apps and applets. Apps and applets have different requirements: apps require 'developers', 'authorizedUsers', and 'regionalOptions'; applets only require basic fields and can use top-level 'systemRequirements'.",
  "type": "object",
  "required": [
    "name",
    "runSpec"
  ],
  "properties": {
    "name": {
      "type": "string",
      "pattern": "^[a-z0-9_-]+$",
      "description": "Unique identifier for the app(let). Can contain lowercase letters, numbers, hyphens, and underscores. No spaces allowed.",
      "markdownDescription": "**App/Applet Name**  \nUnique identifier for the app or applet. Can contain lowercase letters, numbers, hyphens (`-`), and underscores (`_`). No spaces or uppercase letters allowed. Example: `my-app` or `my_app_01`.  \n\n**Note:** An **app** name cannot be changed across versions, but an **applet** name can be changed.",
      "additionalProperties": false
    },
    "title": {
      "type": "string",
      "description": "Human readable name shown in the UI (strongly recommended).",
      "markdownDescription": "**Title** (strongly recommended)  \nHuman readable name for the app or applet, shown in the DNAnexus UI.  \n**Warning:** Building without this field will generate a warning and the app or applet will have poor discoverability in the UI.",
      "additionalProperties": false
    },
    "summary": {
      "type": "string",
      "description": "Short summary of the app or applet's functionality (strongly recommended).",
      "markdownDescription": "**Summary** (strongly recommended)  \nShort summary describing the app or applet's main purpose.  \n**Warning:** Building without this field will generate a warning and users will have difficulty understanding the app or applet's purpose.",
      "additionalProperties": false
    },
    "description": {
      "type": "string",
      "description": "Detailed description of the app or applet, its features, and usage notes.",
      "markdownDescription": "**Description**  \nDetailed description of the app or applet, its features, and any important usage notes. If not provided, `dx build` includes the `Readme.md` file content.  \n**Warning:** Omitting both this field and `Readme.md` will generate a build warning and the app or applet will lack proper documentation.",
      "additionalProperties": false
    },
    "developerNotes": {
      "type": "string",
      "description": "Detailed notes covering extra details for developers.",
      "markdownDescription": "**Developer Notes**  \nDetailed notes for developers working with this app or applet. If not provided, `dx build` includes the `Readme.developer.md` file content, if available.",
      "additionalProperties": false
    },
    "dxapi": {
      "type": "string",
      "default": "1.0.0",
      "description": "DNAnexus API version required by the app or applet (strongly recommended).",
      "markdownDescription": "**dxAPI** (strongly recommended)  \nDNAnexus API version required by the app or applet. Example: `1.0.0`. While technically optional, it's recommended to explicitly specify the API version.",
      "additionalProperties": false
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+(-[0-9A-Za-z-]+(\\.[0-9A-Za-z-]+)*)?(\\+[0-9A-Za-z-]+(\\.[0-9A-Za-z-]+)*)?$",
      "description": "Semantic versioning (required for apps, optional for applets).",
      "markdownDescription": "**Version** (required for apps)  \nSemantic versioning for the app following [semver](https://semver.org/) specification. Examples: `1.0.0`, `1.0.0-rc.1`, `1.0.0+build.123`.  \n**Required for apps to build successfully.** Optional for applets. Update this field whenever you make changes to the app.",
      "additionalProperties": false
    },
    "openSource": {
      "type": "boolean",
      "description": "Whether the contents of this app version's resources container should be viewable by all members of the developers and authorized users (apps only)",
      "markdownDescription": "**Open Source** (apps only)  \nSet to `true` if you want the contents of this app version's resources container to be viewable by all members of the `developers` and `authorizedUsers`. This field is only meaningful for apps, as applets do not have `developers` or `authorizedUsers` fields that would define who can view the resources.",
      "additionalProperties": false
    },
    "httpsApp": {
      "type": "object",
      "description": "HTTPS app configuration. Externally expose jobs to the internet via an HTTPS proxy.",
      "markdownDescription": "**HTTPS App**  \nExternally expose jobs to the internet via an HTTPS proxy at `https://job-xxxx.dnanexus.cloud/`. Provide an object to configure `ports` and `shared_access`. To disable HTTPS, omit this property entirely.",
      "required": [
        "ports",
        "shared_access"
      ],
      "properties": {
        "ports": {
          "type": "array",
          "items": {
            "type": "integer",
            "enum": [
              443,
              8080,
              8081
            ]
          },
          "description": "Array of ports to expose via HTTPS proxy.",
          "markdownDescription": "**Ports**  \nArray of ports to allow access through the HTTPS proxy. Allowed values: `443`, `8080`, `8081`."
        },
        "shared_access": {
          "type": "string",
          "enum": [
            "VIEW",
            "CONTRIBUTE",
            "ADMINISTER",
            "NONE"
          ],
          "description": "Access level required to access the HTTPS endpoint.",
          "markdownDescription": "**Shared Access**  \nRestrict access to users with the specified project access level. Use `NONE` to limit access to only the launching user.",
          "markdownEnumDescriptions": [
            "Users with VIEW access to the project can access the endpoint.",
            "Users with CONTRIBUTE access to the project can access the endpoint.",
            "Users with ADMINISTER access to the project can access the endpoint.",
            "Only the launching user can access the endpoint."
          ]
        }
      },
      "additionalProperties": false
    },
    "inputSpec": {
      "type": "array",
      "description": "Defines the input parameters for the app or applet (required for apps to build).",
      "markdownDescription": "**Input Specification** (required for apps)  \nDefines the input parameters for the app or applet. **Required for apps to build successfully.** Can be an empty array `[]` if the app or applet has no inputs.  \n**Note:** Applets without this field (not just an empty array, but completely absent) cannot be run from the GUI or composed in workflows.",
      "items": {
        "type": "object",
        "required": [
          "name",
          "class"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the input parameter.",
            "markdownDescription": "**Input Name**  \nName of the input parameter."
          },
          "class": {
            "type": "string",
            "enum": [
              "int",
              "float",
              "string",
              "boolean",
              "hash",
              "record",
              "file",
              "applet",
              "array:int",
              "array:float",
              "array:string",
              "array:boolean",
              "array:record",
              "array:file",
              "array:applet"
            ],
            "description": "Data type of the input parameter.",
            "markdownDescription": "**Input Class**  \nData type of the input parameter.",
            "markdownEnumDescriptions": [
              "`int`: Integer value.",
              "`float`: Floating point value.",
              "`string`: String value.",
              "`boolean`: Boolean value (true/false).",
              "`hash`: Key-value object.",
              "`record`: DNAnexus record object.",
              "`file`: DNAnexus file object.",
              "`applet`: DNAnexus applet object.",
              "`array:int`: Array of integers.",
              "`array:float`: Array of floats.",
              "`array:string`: Array of strings.",
              "`array:boolean`: Array of booleans.",
              "`array:record`: Array of record objects.",
              "`array:file`: Array of file objects.",
              "`array:applet`: Array of applet objects."
            ]
          },
          "optional": {
            "type": "boolean",
            "description": "Whether the input parameter is optional. Note: inputs with a 'default' value are treated as optional even if this is not explicitly set.",
            "markdownDescription": "**Optional**  \nSet to `true` if the input parameter is optional.  \n**Note:** Inputs with a `default` value are automatically treated as optional, even if `optional` is not explicitly set to `true`."
          },
          "label": {
            "type": "string",
            "description": "Label for the input parameter.",
            "markdownDescription": "**Label**  \nLabel for the input parameter."
          },
          "default": {
            "description": "Default value for the input parameter. Providing a default automatically makes the input optional.",
            "markdownDescription": "**Default**  \nDefault value for the input parameter.  \n**Note:** Providing a `default` value automatically makes the input optional, even without setting `optional: true`."
          },
          "patterns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Patterns to validate the input parameter.",
            "markdownDescription": "**Patterns**  \nPatterns to validate the input parameter."
          },
          "type": {
            "type": "string",
            "description": "Constrains data object inputs (file/record/applet/workflow) to specific object types.",
            "markdownDescription": "**Type Constraint**  \nFor data object inputs (file, record, applet, workflow), this constrains which object types are acceptable. For example, for a file input with `\"type\": \"AssetBundle\"`, only files of type `AssetBundle` will be accepted. This can also be a complex type specification using `$and` or `$or` operators.  \n**Note:** This field only applies to data object classes, not primitives like int/string."
          },
          "help": {
            "type": "string",
            "description": "Help text for the input parameter.",
            "markdownDescription": "**Help**  \nHelp text for the input parameter."
          },
          "suggestions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Display label for this suggestion.",
                  "markdownDescription": "**Name**  \nDisplay label shown in the UI for this suggestion."
                },
                "project": {
                  "type": "string",
                  "description": "ID of the project containing suggested inputs.",
                  "markdownDescription": "**Project**  \nProject ID where suggested files are located. Example: `project-xxxx`"
                },
                "path": {
                  "type": "string",
                  "description": "Folder path in the project (defaults to '/').",
                  "markdownDescription": "**Path**  \nFolder path within the project. Defaults to `/` if not specified."
                },
                "value": {
                  "description": "A specific suggested value. Can be a primitive value or an object with a '$dnanexus_link' key.",
                  "markdownDescription": "**Value**  \nA specific suggested value. Can be:\n- A primitive value matching the input class (e.g., string, int)\n- An object with `$dnanexus_link` in **limited format**:\n  - Simple string: `{\"$dnanexus_link\": \"file-xxxx\"}`\n  - Object with project: `{\"$dnanexus_link\": {\"project\": \"project-xxxx\", \"id\": \"file-yyyy\"}}`\n\n**Note:** Only simple data object references (file, record) are supported, not complex JBOR or workflow links."
                },
                "$dnanexus_link": {
                  "type": "string",
                  "description": "Direct link to a DNAnexus data object (file-xxxx, record-xxxx, etc). Simple string format only.",
                  "markdownDescription": "**DNAnexus Link (Simple Format)**  \nDirect link to a DNAnexus data object using the simple string format. Example: `file-xxxx` or `record-yyyy`.  \n**Note:** Only simple object ID strings are supported here, not complex JBOR (job-based object references) or workflow links."
                }
              },
              "additionalProperties": false
            },
            "description": "Array of suggestion objects to help users select input values.",
            "markdownDescription": "**Suggestions**  \nHelp users select input values by providing suggestions. Each suggestion typically uses one of these patterns (though the validation allows combinations):\n\n- **Project/Path**: `{\"name\": \"label\", \"project\": \"project-xxxx\", \"path\": \"/folder\"}` - suggests browsing a specific project folder\n- **Direct link**: `{\"$dnanexus_link\": \"file-xxxx\"}` - references a specific data object by ID\n- **Value**: `{\"value\": {\"$dnanexus_link\": \"file-xxxx\"}}` or `{\"value\": primitive}` - provides a specific suggested value\n\n**Note:** While properties can technically be combined, they serve distinct purposes and are typically used independently per suggestion."
          },
          "group": {
            "type": "string",
            "description": "Grouping label shown in UI to organize inputs.",
            "markdownDescription": "**Group**  \nGrouping label used to organize related inputs in the UI. Example: `Advanced Options`"
          },
          "choices": {
            "type": "array",
            "items": {},
            "description": "Enumerated choices restricting possible values for this input.",
            "markdownDescription": "**Choices**  \nRestrict this input to a specific set of allowed values. The type of array items should match the input class."
          }
        },
        "additionalProperties": false
      },
      "additionalProperties": false
    },
    "outputSpec": {
      "type": "array",
      "description": "Defines the output parameters for the app or applet (required for apps to build).",
      "markdownDescription": "**Output Specification** (required for apps)  \nDefines the output parameters for the app or applet. **Required for apps to build successfully.** Can be an empty array `[]` if the app or applet has no outputs.  \n**Note:** Applets without this field (not just an empty array, but completely absent) cannot be run from the GUI or composed in workflows.",
      "items": {
        "type": "object",
        "required": [
          "name",
          "class"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the output parameter.",
            "markdownDescription": "**Output Name**  \nName of the output parameter."
          },
          "class": {
            "type": "string",
            "enum": [
              "int",
              "float",
              "string",
              "boolean",
              "hash",
              "record",
              "file",
              "applet",
              "array:int",
              "array:float",
              "array:string",
              "array:boolean",
              "array:record",
              "array:file",
              "array:applet"
            ],
            "description": "Data type of the output parameter.",
            "markdownDescription": "**Output Class**  \nData type of the output parameter.",
            "markdownEnumDescriptions": [
              "`int`: Integer value.",
              "`float`: Floating point value.",
              "`string`: String value.",
              "`boolean`: Boolean value (true/false).",
              "`hash`: Key-value object.",
              "`record`: DNAnexus record object.",
              "`file`: DNAnexus file object.",
              "`applet`: DNAnexus applet object.",
              "`array:int`: Array of integers.",
              "`array:float`: Array of floats.",
              "`array:string`: Array of strings.",
              "`array:boolean`: Array of booleans.",
              "`array:record`: Array of record objects.",
              "`array:file`: Array of file objects.",
              "`array:applet`: Array of applet objects."
            ]
          },
          "label": {
            "type": "string",
            "description": "Label for the output parameter.",
            "markdownDescription": "**Label**  \nLabel for the output parameter."
          },
          "patterns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Patterns to validate the output parameter.",
            "markdownDescription": "**Patterns**  \nPatterns to validate the output parameter."
          },
          "help": {
            "type": "string",
            "description": "Help text for the output parameter.",
            "markdownDescription": "**Help**  \nHelp text for the output parameter."
          }
        },
        "additionalProperties": false
      },
      "additionalProperties": false
    },
    "runSpec": {
      "type": "object",
      "description": "Defines how the app or applet is executed, including interpreter, entry point, OS, dependencies, and more.",
      "markdownDescription": "**Run Specification**  \nDefines how the app or applet is executed, including interpreter, entry point, OS, dependencies, and more.",
      "required": [
        "interpreter",
        "file",
        "distribution",
        "release",
        "version"
      ],
      "properties": {
        "assetDepends": {
          "$ref": "./assetDepends.schema.json",
          "description": "List of asset dependencies required by the app or applet.",
          "markdownDescription": "**Asset Dependencies**  \nList of asset dependencies required by the app or applet. Each item must specify either an `id` (string) or a combination of `name`, `project`, and `version` (all strings). Optionally, `folder` (string) can be included."
        },
        "bundledDepends": {
          "$ref": "./bundledDepends.schema.json",
          "description": "Bundled dependencies for the app. Files to be made available in the execution environment.",
          "markdownDescription": "**Bundled Dependencies**  \nList of files to be made available in the execution environment. Each item specifies a `name` (filename) and `id` (DNAnexus link to the file)."
        },
        "headJobOnDemand": {
          "type": "boolean",
          "description": "Whether headJobOnDemand is enabled by default for this app(let). Can be overridden at runtime.",
          "markdownDescription": "**Head Job On Demand**  \nEnable head job on demand by default. When enabled, the head job (entry point) runs only when needed, reducing costs for workflow orchestration. Can be overridden at runtime."
        },
        "restartableEntryPoints": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "all"
              ],
              "description": "Allow all entry points to be restarted."
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "List of specific entry point names that can be restarted."
            }
          ],
          "description": "Entry points that may be restarted if a restartable error occurs.",
          "markdownDescription": "**Restartable Entry Points**  \nSpecify which entry points can be automatically restarted on restartable errors. Use `\"all\"` to allow all entry points, or provide an array of specific entry point names."
        },
        "inheritParentRestartOnPolicy": {
          "type": "boolean",
          "description": "Whether jobs inherit the parent's executionPolicy.restartOn at runtime.",
          "markdownDescription": "**Inherit Parent Restart On Policy**  \nWhen `true`, an `app-xxxx/new` or `applet-xxxx/new` job from a parent job inherits its parent's selected `executionPolicy.restartOn` value at runtime. When `false` (default), the job retains its policy from build time.  \n\n**Note:** Setting this to `false` does not prevent a parent execution (like an analysis) from overriding the job's `restartOn` policy."
        },
        "executionPolicy": {
          "type": "object",
          "description": "Options governing job restart policy.",
          "markdownDescription": "**Execution Policy**  \nConfigure automatic restart behavior for jobs. Specify restart limits for different error types.",
          "properties": {
            "restartOn": {
              "type": "object",
              "description": "Mapping of restartable failure reasons to restart limits.",
              "markdownDescription": "**Restart On**  \nMap restartable failure reasons to maximum restart attempts. The value is the maximum number of restart attempts (integer).\n\n**Example:**\n```json\n{\n  \"*\": 1,\n  \"UnresponsiveWorker\": 3,\n  \"SpotInstanceInterruption\": 5\n}\n```",
              "properties": {
                "ExecutionError": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Maximum restart attempts when execution fails with error.",
                  "markdownDescription": "**Execution Error**  \nMaximum number of restart attempts when execution fails with an error."
                },
                "UnresponsiveWorker": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Maximum restart attempts when worker becomes unresponsive.",
                  "markdownDescription": "**Unresponsive Worker**  \nMaximum number of restart attempts when the worker becomes unresponsive."
                },
                "JMInternalError": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Maximum restart attempts for job manager internal errors.",
                  "markdownDescription": "**Job Manager Internal Error**  \nMaximum number of restart attempts for job manager internal errors."
                },
                "AppInternalError": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Maximum restart attempts for application internal errors.",
                  "markdownDescription": "**Application Internal Error**  \nMaximum number of restart attempts for application internal errors."
                },
                "JobTimeoutExceeded": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Maximum restart attempts when job exceeds timeout limit.",
                  "markdownDescription": "**Job Timeout Exceeded**  \nMaximum number of restart attempts when the job exceeds its timeout limit."
                },
                "SpotInstanceInterruption": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Maximum restart attempts when spot instance is interrupted.",
                  "markdownDescription": "**Spot Instance Interruption**  \nMaximum number of restart attempts when a spot instance is interrupted."
                },
                "*": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Maximum restart attempts for all other restartable failure reasons.",
                  "markdownDescription": "**All Other Failures**  \nMaximum number of restart attempts for all restartable failure reasons not explicitly specified above."
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "systemRequirements": {
          "$ref": "./systemRequirements.schema.json",
          "description": "System requirements (deprecated, use regionalOptions instead).",
          "markdownDescription": "**System Requirements**  \nSystem requirements for execution. **Deprecated for both apps and applets.** Use `regionalOptions.<region>.systemRequirements` instead. Apps must specify requirements for all regions they support; applets should specify requirements for the region where they run.",
          "deprecationMessage": "This property is deprecated. Use 'regionalOptions.<region>.systemRequirements' instead for region-specific system requirements."
        },
        "interpreter": {
          "type": "string",
          "enum": [
            "bash",
            "python3",
            "python2.7"
          ],
          "description": "The language interpreter to use for running the app or applet. The specific version is determined by the Ubuntu release.",
          "markdownDescription": "**Interpreter**  \nThe language interpreter to use for running the app or applet.\n\n**Note:** The specific version of the interpreter depends on the selected `release` (Ubuntu version), as the native built-in interpreter for that Ubuntu release is used. See the `release` property descriptions for specific interpreter versions.",
          "markdownEnumDescriptions": [
            "Bash shell interpreter. Version depends on Ubuntu release: 12.04 (4.2.25), 14.04 (4.3.11), 16.04 (4.3.48), 20.04 (5.0.17), 24.04 (5.2.21).",
            "Python 3 interpreter. Version depends on Ubuntu release: 14.04 (3.4.3), 16.04 (3.5.2), 20.04 (3.8.10), 24.04 (3.12.3). Not available on 12.04.",
            "**DEPRECATED** Python 2.7 interpreter. DNAnexus stopped updating the Python 2 AEE on March 1, 2021, and no longer accepts new applets or apps with `python2.7`. Python 2 reached End-of-Life on January 1, 2020. Existing apps/applets using `python2.7` continue to run for reproducibility, but this value should only be present in historical versions. Version depends on Ubuntu release: 12.04 (2.7.3), 14.04 (2.7.6), 16.04 (2.7.12). Not available on 20.04+."
          ]
        },
        "file": {
          "type": "string",
          "description": "Entry point script filename.",
          "markdownDescription": "**File**  \nEntry point script filename for the app or applet."
        },
        "distribution": {
          "type": "string",
          "enum": [
            "Ubuntu"
          ],
          "description": "OS Distribution.",
          "markdownDescription": "**Distribution**  \nOperating system distribution for the app or applet. Only `Ubuntu` is supported.",
          "markdownEnumDescriptions": [
            "The only supported OS distribution for DNAnexus apps and applets."
          ]
        },
        "release": {
          "type": "string",
          "enum": [
            "24.04",
            "20.04",
            "16.04",
            "14.04",
            "12.04"
          ],
          "description": "Ubuntu release version. Determines the specific versions of interpreters (Bash, Python) available.",
          "markdownDescription": "**Release**  \nUbuntu release version for the app or applet. **Recommended:** Use `20.04` or `24.04` for new apps and applets. Legacy versions (`12.04`, `14.04`, `16.04`) are supported for backward compatibility but not recommended for new development.\n\n**Note:** The selected release determines the specific versions of interpreters available, as the native built-in interpreter for that Ubuntu release is used.",
          "markdownEnumDescriptions": [
            "Ubuntu 24.04 LTS (Noble). Includes: Bash 5.2.21, Python 3.12.3, dxpy latest. Python 2 not available.",
            "Ubuntu 20.04 LTS (Focal). Includes: Bash 5.0.17, Python 3.8.10, dxpy latest. Python 2 not available.",
            "**LEGACY** Ubuntu 16.04 LTS (Xenial). Not recommended for new apps or applets. Use 20.04 or 24.04 instead. Includes: Bash 4.3.48, Python 2.7.12, Python 3.5.2, dxpy 0.361.",
            "**LEGACY** Ubuntu 14.04 LTS (Trusty). Not recommended for new apps or applets. Use 20.04 or 24.04 instead. Includes: Bash 4.3.11, Python 2.7.6, Python 3.4.3, dxpy 0.296.",
            "**LEGACY** Ubuntu 12.04 LTS (Precise). Not recommended for new apps or applets. Use 20.04 or 24.04 instead. Includes: Bash 4.2.25, Python 2.7.3, dxpy 0.29. Python 3 not available."
          ]
        },
        "version": {
          "type": "string",
          "enum": [
            "0",
            "1"
          ],
          "description": "Execution environment version.",
          "markdownDescription": "**Execution Environment Version**  \nSpecifies the version of the execution environment. This field, together with `distribution` and `release`, determines the complete execution environment configuration."
        },
        "execDepends": {
          "$ref": "./execDepends.schema.json",
          "markdownDescription": "**execDepends**  \nList of software dependencies required by the app or applet. See execDepends.schema.json for details."
        },
        "timeoutPolicy": {
          "type": "object",
          "description": "Timeout policy for app or applet execution. Keys can be entry point names or '*' for all. Each value is an object with 'minutes' or 'hours'.",
          "markdownDescription": "**Timeout Policy**  \nTimeout policy for app or applet execution. Keys are entry point names (e.g., `\"main\"`, `\"process\"`), or `\"*\"` to apply to all entry points.\n\n**Example:**\n```json\n{\n  \"*\": { \"hours\": 48 },\n  \"main\": { \"minutes\": 30 }\n}\n```",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "minutes": {
                "type": "number",
                "description": "Timeout in minutes.",
                "markdownDescription": "**Minutes**  \nTimeout in minutes."
              },
              "hours": {
                "type": "number",
                "description": "Timeout in hours.",
                "markdownDescription": "**Hours**  \nTimeout in hours."
              }
            },
            "anyOf": [
              {
                "required": [
                  "minutes"
                ]
              },
              {
                "required": [
                  "hours"
                ]
              }
            ],
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    },
    "developers": {
      "type": "array",
      "description": "List of developer usernames or IDs (strongly recommended for apps).",
      "markdownDescription": "**Developers** (strongly recommended for apps)  \nList of developers who can modify the app. Can specify usernames, user IDs, or org IDs.  \n**Note:** While technically optional, omitting this field means only the creating user can manage the app. For applets, this field is optional.",
      "items": {
        "type": "string",
        "pattern": "^(user-[a-z0-9_-]+|org-[a-z0-9_-]+|[a-z0-9._-]+)$",
        "description": "Username, user ID (user-xxx), org ID (org-xxx).",
        "markdownDescription": "**Developer Identity**  \nCan be:  \n- Plain username (e.g., `eve`, `john.doe`)  \n- User ID with prefix (e.g., `user-eve`, `user-dnanexus`)  \n- Organization ID (e.g., `org-piratelabs`, `org-dnanexus_apps`)"
      },
      "additionalProperties": false
    },
    "authorizedUsers": {
      "type": "array",
      "description": "List of authorized users or orgs (strongly recommended for apps).",
      "markdownDescription": "**Authorized Users** (strongly recommended for apps)  \nList of authorized users or organizations who can access and run the app. Can specify usernames, user IDs, or org IDs.  \n**Warning:** Building without this field will generate a warning. No one will be able to view or run the app except the developers listed in the app spec. For applets, this field is optional.",
      "items": {
        "type": "string",
        "pattern": "^(PUBLIC|user-[a-z0-9_-]+|org-[a-z0-9_-]+|[a-z0-9._-]+)$",
        "description": "Username, user ID (user-xxx), org ID (org-xxx), or PUBLIC.",
        "markdownDescription": "**Authorized Entity**  \nCan be:  \n- Plain username (e.g., `eve`, `john.doe`)  \n- User ID with prefix (e.g., `user-eve`, `user-dnanexus`)  \n- Organization ID (e.g., `org-piratelabs`, `org-dnanexus_apps`)  \n- `PUBLIC` to make app publicly available"
      },
      "additionalProperties": false
    },
    "regionalOptions": {
      "type": "object",
      "description": "Region-specific options for app execution (recommended for apps, optional for applets).",
      "markdownDescription": "**Regional Options** (recommended for apps)  \nRegion-specific options for app execution. Keys must be valid DNAnexus region names. **Recommended for apps** to specify resources and requirements per region. **Optional for applets** (which can use deprecated top-level `systemRequirements` and `resources` instead).",
      "propertyNames": {
        "enum": [
          "aws:us-east-1",
          "aws:eu-central-1",
          "aws:eu-west-2",
          "aws:eu-west-2-g",
          "aws:me-south-1",
          "aws:ap-southeast-2",
          "azure:westus",
          "azure:westeurope",
          "azure:uksouth-ofh",
          "oci:us-ashburn-1"
        ],
        "markdownEnumDescriptions": [
          "AWS US (East)",
          "AWS Europe (Frankfurt)",
          "AWS UKB-RAP (London)",
          "AWS Europe (London)",
          "AWS Middle East (Bahrain)",
          "AWS Asia Pacific (Sydney)",
          "Azure West US",
          "Azure West Europe",
          "Azure UK South OFH",
          "OCI US (Ashburn)"
        ]
      },
      "patternProperties": {
        "^aws:": {
          "type": "object",
          "properties": {
            "systemRequirements": {
              "allOf": [
                {
                  "$ref": "./systemRequirements.schema.json"
                },
                {
                  "description": "System requirements for this AWS region. Keys are entry point names (e.g., 'main', 'process') or '*' for all entry points.",
                  "markdownDescription": "**System Requirements**  \nSystem requirements for this AWS region. Keys are entry point names (e.g., `\"main\"`, `\"process\"`), or use `\"*\"` for all entry points. For AWS regions, `instanceType` must reference AWS instance types.\n\n**Example:**\n```json\n{\n  \"*\": { \"instanceType\": \"mem1_ssd1_v2_x4\" },\n  \"main\": { \"instanceType\": \"mem3_ssd1_v2_x8\" }\n}\n```",
                  "additionalProperties": {
                    "properties": {
                      "instanceType": {
                        "$ref": "./instanceTypes.aws.all.schema.json"
                      }
                    }
                  }
                }
              ]
            },
            "bundledDepends": {
              "$ref": "./bundledDepends.schema.json",
              "description": "Bundled dependencies for this region.",
              "markdownDescription": "**Bundled Dependencies**  \nBundled dependencies for this region. Each item specifies a name and a DNAnexus link to the file."
            },
            "assetDepends": {
              "$ref": "./assetDepends.schema.json",
              "description": "Asset dependencies for this region.",
              "markdownDescription": "**Asset Dependencies**  \nAsset dependencies specific to this region. Overrides or supplements the global assetDepends."
            },
            "resources": {
              "$ref": "./resources.schema.json",
              "description": "Resources colocated with this region. Can be a project ID or array of file IDs.",
              "markdownDescription": "**Resources**  \nResources colocated with this region. Supply a project ID (string) or array of file IDs that are specific to this region."
            }
          },
          "additionalProperties": false
        },
        "^azure:": {
          "type": "object",
          "properties": {
            "systemRequirements": {
              "allOf": [
                {
                  "$ref": "./systemRequirements.schema.json"
                },
                {
                  "description": "System requirements for this Azure region. Keys are entry point names (e.g., 'main', 'process') or '*' for all entry points.",
                  "markdownDescription": "**System Requirements**  \nSystem requirements for this Azure region. Keys are entry point names (e.g., `\"main\"`, `\"process\"`), or use `\"*\"` for all entry points. For Azure regions, `instanceType` must reference Azure instance types.\n\n**Example:**\n```json\n{\n  \"*\": { \"instanceType\": \"azure:mem1_ssd1_x4\" }\n}\n```",
                  "additionalProperties": {
                    "properties": {
                      "instanceType": {
                        "$ref": "./instanceTypes.azure.all.schema.json"
                      }
                    }
                  }
                }
              ]
            },
            "bundledDepends": {
              "$ref": "./bundledDepends.schema.json",
              "description": "Bundled dependencies for this region.",
              "markdownDescription": "**Bundled Dependencies**  \nBundled dependencies for this region. Each item specifies a name and a DNAnexus link to the file."
            },
            "assetDepends": {
              "$ref": "./assetDepends.schema.json",
              "description": "Asset dependencies for this region.",
              "markdownDescription": "**Asset Dependencies**  \nAsset dependencies specific to this region. Overrides or supplements the global assetDepends."
            },
            "resources": {
              "$ref": "./resources.schema.json",
              "description": "Resources colocated with this region. Can be a project ID or array of file IDs.",
              "markdownDescription": "**Resources**  \nResources colocated with this region. Supply a project ID (string) or array of file IDs that are specific to this region."
            }
          },
          "additionalProperties": false
        },
        "^oci:": {
          "type": "object",
          "properties": {
            "systemRequirements": {
              "allOf": [
                {
                  "$ref": "./systemRequirements.schema.json"
                },
                {
                  "description": "System requirements for this OCI region. Keys are entry point names (e.g., 'main', 'process') or '*' for all entry points.",
                  "markdownDescription": "**System Requirements**  \nSystem requirements for this OCI region. Keys are entry point names (e.g., `\"main\"`, `\"process\"`), or use `\"*\"` for all entry points. For OCI regions, `instanceType` must reference OCI instance types.\n\n**Example:**\n```json\n{\n  \"*\": { \"instanceType\": \"oci:VM.Standard.E3.Flex.4.16\" }\n}\n```",
                  "additionalProperties": {
                    "properties": {
                      "instanceType": {
                        "$ref": "./instanceTypes.oci.all.schema.json"
                      }
                    }
                  }
                }
              ]
            },
            "bundledDepends": {
              "$ref": "./bundledDepends.schema.json",
              "description": "Bundled dependencies for this region.",
              "markdownDescription": "**Bundled Dependencies**  \nBundled dependencies for this region. Each item specifies a name and a DNAnexus link to the file."
            },
            "assetDepends": {
              "$ref": "./assetDepends.schema.json",
              "description": "Asset dependencies for this region.",
              "markdownDescription": "**Asset Dependencies**  \nAsset dependencies specific to this region. Overrides or supplements the global assetDepends."
            },
            "resources": {
              "$ref": "./resources.schema.json",
              "description": "Resources colocated with this region. Can be a project ID or array of file IDs.",
              "markdownDescription": "**Resources**  \nResources colocated with this region. Supply a project ID (string) or array of file IDs that are specific to this region."
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "details": {
      "type": "object",
      "description": "Arbitrary metadata for the app or applet. Recognized fields include contact info, upstream version, author, URL, licenses, citations, and changelog.",
      "markdownDescription": "**Details**  \nArbitrary metadata for the app or applet. The properties listed below are **recognized by the DNAnexus platform**, but you can add any custom key-value pairs.\n\n**Custom keys example:**\n```json\n{\n  \"contactEmail\": \"dev@example.com\",\n  \"myCustomField\": \"custom value\",\n  \"internalVersion\": \"v2.3.1\"\n}\n```",
      "properties": {
        "contactEmail": {
          "type": "string",
          "format": "email",
          "description": "Contact email for the app or applet author or maintainer.",
          "markdownDescription": "**Contact Email**  \nContact email for the app or applet author or maintainer."
        },
        "citations": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Citations for papers (e.g., DOI references).",
          "markdownDescription": "**Citations**  \nCitations for papers. Use DOI format: `doi:10.1093/bioinformatics/btp352`"
        },
        "upstreamVersion": {
          "type": "string",
          "description": "Version number of the upstream executable (e.g., 'bwa-mem 0.7.12').",
          "markdownDescription": "**Upstream Version**  \nVersion number of the upstream executable. Example: `0.7.12`"
        },
        "upstreamAuthor": {
          "type": "string",
          "description": "Name of the upstream author.",
          "markdownDescription": "**Upstream Author**  \nName of the upstream author."
        },
        "upstreamUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL for the upstream executable or project.",
          "markdownDescription": "**Upstream URL**  \nURL for the upstream executable or project."
        },
        "upstreamLicenses": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Licenses for the upstream executable (e.g., 'GPLv3', 'MIT').",
          "markdownDescription": "**Upstream Licenses**  \nLicenses for the upstream executable. Example: `GPLv3`, `MIT`"
        },
        "whatsNew": {
          "type": "string",
          "description": "Changelog or release notes. Can use Markdown formatting.",
          "markdownDescription": "**What's New**  \nChangelog or release notes. Can use Markdown formatting."
        }
      },
      "additionalProperties": true
    },
    "categories": {
      "type": "array",
      "description": "Categories for the app or applet. Recognized categories are displayed specially on the DNAnexus Platform, but custom categories are also allowed.",
      "markdownDescription": "**Categories**  \nCategorize your app or applet for easier discovery on the DNAnexus platform. The values listed below are **recognized categories** that receive special treatment in the UI (organized sections, filtering, etc.). However, you can also specify **custom category names** if none of the recognized categories fit your use case.",
      "items": {
        "type": "string",
        "enum": [
          "Annotation",
          "Assembly",
          "Debugging",
          "Export",
          "Import",
          "Interactive",
          "Machine Learning",
          "Mappings Manipulation",
          "Read Manipulation",
          "Read Mapping",
          "Reports",
          "RNA-Seq",
          "Statistics",
          "Structural Variation",
          "Translational Informatics",
          "Variation Calling"
        ],
        "markdownEnumDescriptions": [
          "Tools for annotating variants, genes, or genomic regions.",
          "Genome or transcriptome assembly tools.",
          "Development and debugging utilities.",
          "Export data to external formats or systems.",
          "Import data from external sources.",
          "Interactive applications and visualizations.",
          "Machine learning and AI-based analysis tools.",
          "Manipulate alignment/mapping files (BAM/SAM/CRAM).",
          "Quality control, trimming, filtering of sequencing reads.",
          "Align reads to reference genomes.",
          "Generate analysis reports and visualizations.",
          "RNA sequencing analysis (expression, splicing, etc.).",
          "Statistical analysis tools.",
          "Detect structural variants (SVs, CNVs, etc.).",
          "Translational research and clinical informatics.",
          "Call variants (SNPs, indels) from sequencing data."
        ]
      },
      "additionalProperties": false
    },
    "access": {
      "type": "object",
      "description": "Access control settings for the app or applet. Request additional permissions beyond default limited access.",
      "markdownDescription": "**Access**  \nRequest additional permissions for the app or applet. By default, apps and applets have limited access to ensure privacy and reproducibility. See [App Permissions](https://documentation.dnanexus.com/developer/apps/app-permissions) for details.",
      "properties": {
        "project": {
          "type": "string",
          "enum": [
            "NONE",
            "VIEW",
            "UPLOAD",
            "CONTRIBUTE",
            "ADMINISTER"
          ],
          "description": "Access level to the project in which the app/applet is run.",
          "markdownDescription": "**Project Access**  \nGrant the app/applet access to the project in which it is run.  \n\n**Default:** `NONE` for **apps**, `VIEW` for **applets**.",
          "markdownEnumDescriptions": [
            "No access to the project.",
            "Read-only access to project contents.",
            "Can upload files to the project.",
            "Can create, modify, and delete objects.",
            "Full administrative access to the project."
          ]
        },
        "allProjects": {
          "type": "string",
          "enum": [
            "NONE",
            "VIEW",
            "UPLOAD",
            "CONTRIBUTE",
            "ADMINISTER"
          ],
          "description": "Access level to all projects the user can access.",
          "markdownDescription": "**All Projects Access**  \nGrant the app or applet access to all projects the user running it can access. Use this carefully as it grants broad access.",
          "markdownEnumDescriptions": [
            "No access to other projects.",
            "Read-only access to all user projects.",
            "Can upload files to all user projects.",
            "Can create, modify, and delete objects in all user projects.",
            "Full administrative access to all user projects."
          ]
        },
        "network": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "description": "Domain name or IP address."
              },
              "description": "List of specific domains the app can access."
            },
            {
              "type": "string",
              "enum": [
                "*"
              ],
              "description": "Grant access to all domains."
            }
          ],
          "description": "Network access permissions. Provide specific domains or '*' for all.",
          "markdownDescription": "**Network Access**  \nGrant the app or applet network access. Provide an array of specific domains (e.g., `['github.com', 'api.example.com']`) or use `'*'` to allow all domains."
        },
        "developer": {
          "type": "boolean",
          "description": "Allow the app or applet to act as a developer on behalf of the user.",
          "markdownDescription": "**Developer Access**  \nGrant the app or applet permissions to act as a developer on behalf of the user. This allows the app or applet to create new apps, access unpublished apps, etc."
        }
      },
      "additionalProperties": false
    },
    "ignoreReuse": {
      "type": "boolean",
      "description": "If true, disables reuse of previous results.",
      "markdownDescription": "**Ignore Reuse**  \nIf true, disables reuse of previous results.",
      "additionalProperties": false
    },
    "treeTurnaroundTimeThreshold": {
      "type": "integer",
      "minimum": 0,
      "description": "Threshold for tree turnaround time in seconds.",
      "markdownDescription": "**Tree Turnaround Time Threshold (in seconds)**  \nFor a root execution, the turnaround time is the time between its creation time and the time it reaches the [terminal state](https://documentation.dnanexus.com/user/running-apps-and-workflows/job-lifecycle) (or the current time if it is not in a terminal state). The terminal states of an execution are `done`, `terminated`, and `failed`.",
      "additionalProperties": false
    },
    "resources": {
      "$ref": "./resources.schema.json",
      "description": "Resource files or directories (deprecated, use regionalOptions instead).",
      "markdownDescription": "**Resources**  \nResource files or directories to include in the execution environment. **Deprecated for both apps and applets.** Use `regionalOptions.<region>.resources` instead. Apps must specify resources for all regions they support; applets should specify resources for the region where they run.",
      "deprecationMessage": "This property is deprecated. Use 'regionalOptions.<region>.resources' instead for region-specific resources."
    }
  },
  "additionalProperties": true
}